"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Array.from||(Array.from=function(){function d(t){return"function"==typeof t||"[object Function]"===e.call(t)}function f(t){var e,n=(e=Number(t),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e);return Math.min(Math.max(n,0),a)}var e=Object.prototype.toString,a=Math.pow(2,53)-1;return function(t,e,n){var a=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,o=1<arguments.length?e:void 0;if(void 0!==o){if(!d(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=n)}for(var r,s=f(a.length),l=d(this)?Object(new this(s)):new Array(s),c=0;c<s;)r=a[c],l[c]=o?void 0===i?o(r,c):o.call(i,r,c):r,c+=1;return l.length=s,l}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=e,o=0;o<a;){var r=n[o];if(t.call(i,r,o,n))return r;o++}},configurable:!0,writable:!0}),function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).DataTableLight=e()}(void 0,function(){function t(){this.filteredData=[],this.filteredDataPerPage=[],this.offset=0,this.selectValues=[10,25,50,100],this.messagesLocal={en:{next:"next",prev:"prev",show:"show",search:"search",errorInitTable:"There is no table found"},ru:{next:"далее",prev:"назад",show:"показать",search:"поиск",errorInitTable:"Таблица не найдена"}},this.messages=this.messagesLocal.en;arguments[0]&&"object"===_typeof(arguments[0])&&(this.options=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({tableId:null,tHead:[],data:[],rowsPerPage:10,trTemplate:null,index:null,lang:"en",responsive:!1},arguments[0])),function(){if(this.table=document.querySelector(this.options.tableId),!this.table)try{throw new Error(this.messages.errorInitTable)}catch(t){console.log("Data Table Light ERROR: ",t)}}.call(this),function(){for(var t in this.messagesLocal)if(t===this.options.lang){this.messages=this.messagesLocal[t];break}}.call(this),function(){var e=Number(this.options.rowsPerPage);this.options.rowsPerPage=this.selectValues.find(function(t){return t===e})?e:10}.call(this),this.table=document.querySelector(this.options.tableId),function(){if(this.options.responsive){v(this.table,"dtl-responsive");this.options.trTemplate;if(this.options.trTemplate){var t=this.options.tHead;for(var e in t){var n=new RegExp("(<s*?td(?!.*dtl-td-title).*?>)(.*?)","i"),a=t[e]?'<span class="dtl-td-title">'.concat(t[e],"</span>"):'<span class="dtl-td-title-skip"></span>';this.options.trTemplate=this.options.trTemplate.replace(n,"$1".concat(a,"$2"))}}}}.call(this),function(){var t=this.options.tHead,e="<thead><tr>";"object"===_typeof(t)&&0<t.length&&t.forEach(function(t){e+="<th>".concat(t||"","</th>")});e+="</tr></thead>";try{this.table.insertAdjacentHTML("beforeend",e)}catch(t){console.log("Data table Light ERROR: ",t)}}.call(this),function(){try{this.table.insertAdjacentHTML("beforeend","<tbody></tbody>"),this.tableBody=this.table.tBodies[0]}catch(t){console.log("Data table Light ERROR: ",t)}}.call(this),e.call(this),g.call(this)}function e(){"object"===_typeof(this.options.data)&&(this.filteredData=void 0!==this.options.data.output?this.options.data.output:this.options.data)}function v(t,e){if(e){e=e.split(" ");for(var n=[],a=0;a<e.length;a++){var i=e[a].trim();n.push(i)}if("object"===_typeof(n)&&0!==n.length)try{if(t.classList)for(var o=0;o<n.length;o++)t.classList.add(n[o]);else for(var r=0;r<n.length;r++)t.classes+=" "+n}catch(t){console.log("ERROR: ",t),console.log("ERROR: ",t.message)}}}function g(){(function(){this.filteredDataPerPage=this.filteredData.slice(this.offset).slice(0,this.options.rowsPerPage)}).call(this),function(){var r=this,t=this.tableBody,e=this.filteredDataPerPage;if(this.options.trTemplate){var s="";this.filteredDataPerPage.forEach(function(t,e){var n=r.options.trTemplate;for(var a in t.index=e+r.offset+1,t){var i=a.trim(),o=new RegExp("{{\\s*?"+i+"\\s*?}}","ig");n=n.replace(o,t[i])}s+=n}),t.innerHTML=s}else{var n=this.options.tHead,a=this.options.responsive,i=this.offset,o=this.options.index,l=this.options.data.fields;if(void 0!==l){for(var c=o?["index"].concat(l):l,d="",f=0;f<e.length;f++){for(var p in d+="<tr>",c[0]&&"index"===c[0]&&(d+="<td>",a&&(d+=n[0]?'<span class="dtl-td-title">'.concat(n[0],"</span>"):'<span class="dtl-td-title-skip">'.concat(n[0],"</span>")),d+="".concat(f+i+1,"</td>")),c)for(var h in e[f])c[p]===h&&(d+="<td>",a&&(d+=n[p]?'<span class="dtl-td-title">'.concat(n[p],"</span>"):'<span class="dtl-td-title-skip">'.concat(n[p],"</span>")),d+="".concat(e[f][h],"</td>"));d+="</tr>"}t.innerHTML=d}else{for(var u="",m=0;m<e.length;m++){u+="<tr>",o&&(u+="<td>",a&&(u+=n[0]?'<span class="dtl-td-title">'.concat(n[0],"</span>"):'<span class="dtl-td-title-skip">'.concat(n[0],"</span>")),u+="".concat(m+i+1,"</td>"));var v=o?1:0;for(var g in e[m])u+="<td>",a&&(u+=n[v]?'<span class="dtl-td-title">'.concat(n[v],"</span>"):'<span class="dtl-td-title-skip">'.concat(n[v],"</span>")),u+="".concat(e[m][g],"</td>"),v++;u+="</tr>"}t.innerHTML=u}}}.call(this),function(){var i=this,t=this.table.nextElementSibling;t&&t.parentNode.removeChild(t);var o=this.options.rowsPerPage,e=this.filteredData.length;if(!this.filteredData||"object"===_typeof(this.filteredData)&&0===e||e<=o&&0===this.offset)return;var r=Math.ceil(e/o),s=this.offset/o,n=0!==this.offset,a=!(o>this.filteredDataPerPage.length||e-this.offset===o),l=document.createElement("ul");if(v(l,"pagination"),n){var c=document.createElement("li");v(c,"page-item"),c.addEventListener("click",function(t){i.offset=(i.offset/o-1)*o,g.call(i)},!1);var d=document.createElement("a");v(d,"page-link"),d.href="javascript:void(0)",d.innerHTML=this.messages.prev,c.appendChild(d),l.appendChild(c)}for(var f=function(e){var t=document.createElement("li");if(0===e||e===1+s||e===s||e===s-1||e===r-1){v(t,"page-item page-num"),s===e&&v(t,"active");var n=document.createElement("a");v(n,"page-link"),n.href="javascript:void(0)",n.innerHTML=e+1,t.addEventListener("click",function(t){i.offset=e*o,g.call(i)},!1),t.appendChild(n)}if(e===2+s&&s!=r-3||e===s-2&&0!==e){v(t,"page-item page-num");var a=document.createElement("a");v(a,"page-link"),a.href="javascript:void(0)",a.innerHTML="...",t.appendChild(a)}l.appendChild(t)},p=0;p<r;p++)f(p);if(a){var h=document.createElement("li");v(h,"page-item"),h.addEventListener("click",function(t){i.offset=(i.offset/o+1)*o,g.call(i)},!1);var u=document.createElement("a");v(u,"page-link"),u.href="javascript:void(0)",u.innerHTML=this.messages.next,h.appendChild(u),l.appendChild(h)}var m=document.createElement("nav");m.appendChild(l),this.table.parentNode&&this.table.parentNode.insertBefore(m,this.table.nextSibling)}.call(this),function(){var s=this,t=this.options.rowsPerPage;if(!this.filteredData||"object"===_typeof(this.filteredData)&&0===this.filteredData.length||this.filteredData.length<=t)return;var e=this.table.previousElementSibling;e&&e.parentNode.removeChild(e);var n=document.createElement("form");v(n,"d-flex justify-content-center align-items-end");var a=document.createElement("div");v(a,"form-group w-100 my-3 mr-3");var i=document.createElement("select");v(i,"form-control"),this.selectValues.forEach(function(t,e){var n=document.createElement("option");n.innerHTML=t,(n.value=t)===s.options.rowsPerPage&&(n.selected="selected"),i.appendChild(n)}),i.addEventListener("change",function(t){s.options.rowsPerPage=Number(t.currentTarget.value),s.offset=0,g.call(s)},!1);var o=document.createElement("span");v(o,"text-capitilize mr-3"),o.innerHTML=this.messages.show,a.appendChild(o),a.appendChild(i),n.appendChild(a);var r=document.createElement("div");v(r,"form-group w-100 my-3 ml-3");var l=document.createElement("input");v(l,"form-control"),l.placeholder=this.messages.search,l.addEventListener("keyup",function(t){for(var e=l.value.toUpperCase(),n=s.table.getElementsByTagName("tr"),a=0;a<n.length;a++)for(var i=Array.from(n[a].getElementsByTagName("td")),o=0;o<i.length;o++){var r=i[o];if(r){if(-1<(r.textContent||r.innerText).toUpperCase().indexOf(e)){n[a].style.display="";break}n[a].style.display="none"}}},!1),r.appendChild(l),n.appendChild(r),this.table.parentNode.insertBefore(n,this.table.parentNode.firstChild)}.call(this)}return t.prototype.new=function(t){this.options.data=t,e.call(this),g.call(this)},"undefined"!=typeof window&&(window.DataTableLight=t),t});