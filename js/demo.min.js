"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(function(){function t(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function f(t){return t&&void 0!==t.length}function n(){}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void u(o.promise,t)}a(o.promise,e)}else(1===n._state?a:u)(o.promise,n._value)})):n._deferreds.push(o)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==_typeof(t)||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l((o=n,r=t,function(){o.apply(r,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}var o,r}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var e=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(o,t){var e=new this.constructor(n);return r(this,new function(t,e,n){this.onFulfilled="function"==typeof o?o:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(o,t,e)),e},i.prototype.finally=t,i.all=function(e){return new i(function(o,r){function i(e,t){try{if(t&&("object"==_typeof(t)||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){i(e,t)},r)}a[e]=t,0==--u&&o(a)}catch(t){r(t)}}if(!f(e))return r(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(e);if(0===a.length)return o([]);for(var u=a.length,t=0;a.length>t;t++)i(t,a[t])})},i.resolve=function(e){return e&&"object"==_typeof(e)&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(r){return new i(function(t,e){if(!f(r))return e(new TypeError("Promise.race accepts an array"));for(var n=0,o=r.length;n<o;n++)i.resolve(r[n]).then(t,e)})},i._immediateFn="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){e(t,0)},i._unhandledRejectionFn=function(t){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=t):o.Promise=i});var template='\n    <tr>\n        <td>{{ index }}</td>\n        <td>{{ name }}</td>\n        <td>{{ capital }}</td>\n        <td >\n            <a href="{{ flag }}" target="_blank">\n                <img src="{{ flag }}" width="50" />\n            </a>\n        </td>\n        \n    </tr>\n',dataTableLight=new DataTableLight({tableId:"#test_table",tHead:["#","name","capital","country flag"],rowsPerPage:10,trTemplate:template,responsive:!0}),langES="https://restcountries.eu/rest/v2/lang/es",langEN="https://restcountries.eu/rest/v2/lang/en",getData=function(e){return new Promise(function(n,o){var t=new XMLHttpRequest;t.addEventListener("readystatechange",function(t){if(4===t.target.readyState&&200===t.target.status){var e=JSON.parse(t.target.responseText);n(e)}else 4===t.target.readyState&&o("An error has taken place")}),t.open("GET",e),t.send()})};getData(langES).then(function(t){dataTableLight.new(t)},function(t){console.log("Error: ".concat(t))});var btn1=document.getElementsByTagName("button")[0],btn2=document.getElementsByTagName("button")[1];btn1.addEventListener("click",function(t){t.preventDefault(),getData(langEN).then(function(t){dataTableLight.new(t),btn2.removeAttribute("disabled"),btn1.setAttribute("disabled","disabled")},function(t){console.log("Error: ".concat(t))})},!1),btn2.addEventListener("click",function(t){getData(langES).then(function(t){dataTableLight.new(t),btn1.removeAttribute("disabled"),btn2.setAttribute("disabled","disabled")},function(t){console.log("Error: ".concat(t))})},!1);